# 이미지 업로드

- fireStorage 에서 Rules의 토큰을 가지고 접근권한 제어 가능
- 그곳에 올리는 게 이미지 뿐만이 아니라 다른 것도 가능
- 파이어베이스에서는 ?alt=media 쿼리를 통해 이미지 json파일을 이미지의 형태로 보여주고 있음
- 우리는 주로 어떻게 할 거면 -> write만 권한이 필요하도록, read는 열어둠
  그 이유

  1. 로그인을 클라가 아닌 우리가 처리할 것임으로, 클라가 파이어베이스 로그인 정보를 갖고 있지 않을 것임
  2. 권한을 제어하는 건 우린 아마도 이미지 단위가 아니라 유저단위나 포스트 단위에서 처리할 것이므로
  3. 근데 write를 열어두면 파이어베이스랑 전혀 관련 없는 곳에서도 우리 db버킷에 파일을 올릴 수 있게 되므로 그럼 우리가 과금을 하게될 수도 있음 -> 인증된 요청일 때에만 가능하게 함

- formdata로 받기

- imageUrls 가 배열로 담김 ) 만약 mysql썼으면 배열 지원 안돼서 이렇게 안담김

DB 조인

- post 테이블
- post_category 테이블

- fk는 성능 상의 문제, 하나 지웠을 때 한번에 같이 지우기 위해서

### 질문

- fk는 어떨 때 쓰는지
- images 배열은 무제한으로 이미지 받을 수있는 환경에서도 써도 되는기? 왜 테이블 분리를 하지 않는지 잘 모르겠는

### 합동 세미나 이후 고민한 사안들

- 한번에 와랄라 이후 필터 or 필터 조건들 마다 와랄라
- inner join outer join ? -> 어떨 때 어떤 것
- join할 때 조건은 어떤 식으로 줘야 하는지.. 일단 join 갈기고 조건을 줘야만 하는 것인지

### 디자인 보고 붙이기

- get /list/category/:category
- DB 로직에서 id값 없을 때 -> 빈 배열이면은 빈 배열 반환해준다는 조건문이 필요함 ! ..
